2021-05-17

[Оригинальная статья](https://pingvinus.ru/note/yay)
```table-of-contents
title: Содержание:
style: nestedList # TOC style (nestedList|inlineFirstLevel)
minLevel: 0 # Include headings from the specified level
maxLevel: 0 # Include headings up to the specified level
includeLinks: true # Make headings clickable
debugInConsole: false # Print debug info in Obsidian console
```
### Что такое Arch User Repository (AUR)?

**AUR** — это управляемый сообществом репозиторий для пользователей Arch. AUR был создан с целью облегчения и организации процесса обмена пакетами сообществом. Он содержит описания пакетов (PKGBUILD), которые позволяют вам скомпилировать пакет из исходного кода с помощью makepkg, а затем установить его через pacman.
### Что такое Yay?

**Yay** — вспомогательный инструмент Arch Linux AUR, написанный на Go. Он поможет вам автоматически устанавливать пакеты из PKGBUILD
### Цели

**Yay** основан на дизайне _yaourt_, _apacman_ и _pacaur._ Он разработан с учетом следующих целей:  

- Предоставление интерфейса для _Pacman_
- Интерактивный поиск/установка в формате _Yaourt_
- Минимальные зависимости
- Минимизация вводимых пользователем данных
- Знать, когда пакеты git должны быть обновлены
### Особенности
- Расширенное выполнение зависимостей
- Загрузить PKGBUILD из ABS (Arch Build System) или AUR
- Допоkнение команд AUR клавишей Tab
- Вопрос к пользователю перед вводом всех входных данных (перед запуском построений)
- Сужение круга поиска (_yay linux header_ сначала выполняет поиск linux, а затем сужается до _header_)
- Поиск подходящих поставщиков пакетов и разрешение выбора
- Удаление зависимостей в конце процесса построения
- Запуск без выбора источника PKGBUILD
- Обеспечивает интерфейс для pacman, а также не имеет почти никаких зависимостей
- Обеспечивает функцию поиска yaourt и значительно минимизирует вход пользователя
- Еще одна заметная особенность — вы можете выбрать, какое приложение установить или обновить
- Кроме того, он поддерживает завершение вкладки AUR, поэтому просто введите несколько букв пакета AUR и нажмите Enter, чтобы завершить имя
- **yay** обеспечивает заполнение таблицы AUR и загружает PKGBUILD из ABS или AUR. Бинарный файл не имеет никаких дополнительных зависимостей
- Предоставляет расширенное обеспечение зависимостей и удаляет все зависимости make по окончанию процесса сборки  
- Поддерживает цветной вывод при включении опции Color в файле */etc/pacman.conf*  
	Цветной вывод может быть активирован для поддержки только пакета AUR или только пакетов из оф. репозитория.
### Установка

При миграции с другого помощника AUR можно просто установить Yay с этим помощником.  
Альтернативно, первоначальная установка Yay может быть выполнена клонированием PKGBUILD и построением с помощью makepkg.

>Перед началом работы убедитесь, что установлена группа пакетов base-devel.
```shell
sudo pacman -S --needed git base-devel
sudo pacman -S git
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si
```

Так же возможно установить через *pamac* или командой, к Arch это не относится, только к Manjaro
```shell
sudo pacman -S yay
```
### Поддержка

Вся поддержка, связанная с **Yay**, должна запрашиваться через GitHub. Поскольку Yay официально не поддерживается Arch Linux, не следует искать поддержку на форумах, комментариях AUR или других официальных каналах.  
О поврежденном пакете AUR следует сообщить как о комментарии на странице пакета AUR. Пакет может считаться поврежденным, только если его не удалось построить с помощью makepkg. Отчеты должны составляться с использованием makepkg и включать полную информацию, а также любую другую соответствующую информацию. Никогда не создавайте отчеты с помощью Yay или других внешних инструментов.
### Примеры пользовательских операций

`yay <Search Term>`                         Показать меню выбора установки пакета  
`yay -Ps`                                            Печать статистики системы  
`yay -Yc`                                            Очистить ненужные зависимости  
`yay -G <AUR Package>`                    Загрузить PKGBUILD из ABS или AUR  
`yay -Y --gendb`                               Создание базы данных пакетов разработки, используемой для обновления разработки  
`yay -Syu --devel --timeupdate`   Выполнение обновления системы, а также проверка наличия обновлений пакета разработки и использование времени изменения PKGBUILD (не номер версии) для определения обновления  
### Использование

Как и любые другие помощники AUR, типичный способ установки пакета из AUR  
`yay -S <package-name-here>`  
Пример:
```bash
yay -S mplayer
```

Чтобы найти пакет в AUR и официальных репозиториях, используйте флаг `-Ss`, как показано на примере  
```bash
yay -Ss mplayer
```

Чтобы обновить все пакеты из AUR и официальных репозиториев, используйте флаг -Syu  
```bash
yay -Syu
```

Хорошей особенностью **yay** является то, что если вы передаете эту команду без операции, тогда отобразится меню выбора пакета  
```bash
yay mplayer
```
*==> Пакеты для установки (пример: 1 2 3, 1-3 или ^4)*
Тут можно выбрать пакеты для установки или указать необходимые

Чтобы вывести список пакетов, которые необходимо обновить  
```bash
yay -Pu
```

Чтобы удалить нежелательные зависимости, используйте флаг `-Yc`  
```bash
yay -Yc
```

Более подробную информацию о yay см. В справочных страницах  
```bash
man yay
```

Собранные пакеты хранятся по адресу ~/home/(имя_пользователя)/.cache/yay
## Альтернативные методы сброса пароля Windows 11

Если системные способы не подходят для вашей ситуации, из-за отсутствия доступа к нужному адресу почты, телефону или не заданных контрольных вопросов, вы можете использовать один из следующих методов.

### Сброс пароля в командной строке в среде восстановления или с загрузочной флешки (только локальная учётная запись)

Это способ позволяет сбросить пароль любой учётной записи вручную, не обращаясь к сторонним утилитам, а используя командную строку и системные инструменты. Запуск командной строки для выполнения дальнейших шагов возможен одним из способов:

- На экране входа в систему нажмите по кнопке питания справа внизу, а затем, удерживая Shift, нажмите «Перезагрузка». Вы попадете в [среду восстановления](https://remontka.pro/recovery-environment-windows-11/), перейдите в «Поиск и устранение неисправностей» — «Дополнительные параметры» — «Командная строка».

![Зайти в среду восстановления с экрана блокировки Windows 11](../../Media/Pictures/Windows_10-11_password_reset/Зайти_в_среду_восстановления_с_экрана_блокировки_Windows_11.png)

- Если первый шаг не удается выполнить, то создайте [загрузочную флешку Windows 11](https://remontka.pro/windows-11-boot-usb/) и загрузите компьютер с неё. На экране начала установки нажмите клавиши **Shift+F10** или Shift+Fn+F10 (на некоторых ноутбуках) — это откроет командную строку.

![Запуск командной строки с загрузочной флешки](../../Media/Pictures/Windows_10-11_password_reset/Запуск_командной_строки_с_загрузочной_флешки.png)

Сам сброс пароля можно выполнить двумя способами: путём подмены одного из системных файлов или с помощью правки реестра. Рассмотрим оба варианта.

Для сброса пароля путём подмены файла utilman.exe выполните следующие шаги:

1. Определите букву системного диска: в среде восстановления и с загрузочной флешки она может отличаться от стандартной C: — это можно сделать с помощью команд **diskpart**, а можно ввести в командной строке **notepad** (язык переключается клавишами Alt+Shift) и нажать Enter, в открывшемся блокноте в меню выбрать «Файл» — «Открыть» и изучить текущие буквы дисков и их содержимое, чтобы определить букву системного диска. После этого просто закройте блокнот и вернитесь к командной строке.

![Посмотреть текущую букву системного диска](../../Media/Pictures/Windows_10-11_password_reset/Посмотреть_текущую_букву_системного_диска.png)
2. Введите следующие две команды (нажимая Enter после каждой), заменив в них букву диска на актуальную, если в вашем случае она отличается от C:

```cmd
copy C:\windows\system32\utilman.exe C:\windows\system32\utilman2.exe
copy C:\windows\system32\cmd.exe C:\windows\system32\utilman.exe
```

При выполнении второй команды на запрос о замене файла введите букву **Y** и нажмите Enter.

![Подмена utilman.exe файлом cmd.exe](../../Media/Pictures/Windows_10-11_password_reset/Подмена_utilman.exe_файлом_cmd.exe.png)

1. Закройте командную строку и перезагрузите компьютер (в случае, если использовалась загрузочная флешка — с жесткого диска или SSD).
2. После перехода на экран входа в Windows 11 в правом нижнем углу экрана нажмите по кнопке «Специальные возможности» с изображением человека. 
   
   ![Открыть командную строку через специальные возможности](../../Media/Pictures/Windows_10-11_password_reset/Открыть_командную_строку_через_специальные_возможности.png)

1. Откроется командная строка. Введите в ней команду **net user** чтобы отобразить список пользователей.
2. Введите следующую команду, заменив в ней имя пользователя (если имя пользователя содержит пробелы, возьмите его в кавычки) и пароль на нужные **net user имя_пользователя новый_пароль** и нажмите Enter. Если вместо ввода нового пароля использовать открывающие и закрывающие кавычки без пробела внутри, пароль будет полностью удалён. ![Сброс пароля Windows 11 на экране блокировки](../../Media/Pictures/Windows_10-11_password_reset/Сброс_пароля_Windows_11_на_экране_блокировки.png)
3. Готово, пароль сброшен, можно закрыть командную строку и зайти в Windows 11 с заданным вами паролем или вовсе без него, если он был удалён.

Чтобы вернуть системные файлы к изначальному состоянию, можно использовать встроенные средства восстановления целостности системных файлов, либо зайти в командную строку в среде восстановления и использовать команду (изменив букву системного диска на правильную)

```cmd
copy C:\windows\system32\utilman2.exe C:\windows\system32\utilman.exe
```
